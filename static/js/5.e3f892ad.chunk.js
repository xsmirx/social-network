(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[5],{218:function(t,e,s){t.exports={profile:"Profile_profile__3dzvr"}},219:function(t,e,s){t.exports={profileinfo:"ProfileInfo_profileinfo__oR5xr",profileinfo__description:"ProfileInfo_profileinfo__description__1cQ3-",profileinfo__avtarAndButtons:"ProfileInfo_profileinfo__avtarAndButtons__2Ja4M",profileinfo__about:"ProfileInfo_profileinfo__about__1w9uT"}},220:function(t,e,s){t.exports={photo:"Avatar_photo__2zHcO",btn:"Avatar_btn__3zUUW"}},223:function(t,e,s){t.exports={buttonsGroup:"ProfileButtons_buttonsGroup__1zogp"}},224:function(t,e,s){t.exports={form:"ProfileInformationForm_form__2VvXN",form__columns:"ProfileInformationForm_form__columns__1PrXg",form__fields:"ProfileInformationForm_form__fields__3V-0y"}},228:function(t,e,s){t.exports={header:"ProfileInformation_header__hQwB_",about:"ProfileInformation_about__2I58p",aboutMe:"ProfileInformation_aboutMe__3YGXI"}},229:function(t,e,s){t.exports={status:"ProfileStatus_status__3vAMm",statusOwner:"ProfileStatus_statusOwner__1nsOb"}},230:function(t,e,s){t.exports={myposts:"MyPosts_myposts__2WVXa"}},231:function(t,e,s){t.exports={post:"Post_post__K0jg0",post__username:"Post_post__username___WJLN",post__body:"Post_post__body__1azKY",post__avatar:"Post_post__avatar__2cjkV",post__text:"Post_post__text__24ja7"}},232:function(t,e,s){t.exports={addpost:"Textarea_addpost__2nRTD"}},373:function(t,e,s){"use strict";s.r(e);var o=s(37),n=s(38),r=s(40),a=s(41),i=s(0),l=s.n(i),c=s(218),u=s.n(c),p=s(4),f=s.n(p),j=s(8),d=s(151),b=s(219),h=s.n(b),m=s(49),O=s(381),_=s(363),x=s(222),v=s.n(x),w=s(220),g=s.n(w),F=s(56),P=s(2),y=function(t){var e=Object(i.useState)(),s=Object(d.a)(e,2),o=s[0],n=s[1];return Object(P.jsxs)("div",{className:g.a.photo,children:[Object(P.jsx)("img",{onMouseEnter:t.isOwner?function(){return n(!0)}:null,onMouseLeave:t.isOwner?function(){return n(!1)}:null,src:t.profileFoto||F.a,alt:"user-avatar"}),o&&Object(P.jsx)(O.a,{title:"add Photo",arrow:!0,children:Object(P.jsxs)(_.a,{color:"primary",className:g.a.btn,component:"label",onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},children:[Object(P.jsx)(v.a,{}),Object(P.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){t.setUserPhoto(e.target.files[0])}})]})})]})},k=s(223),N=s.n(k),S=s(132),I=function(t){var e=t.isOwner,s=t.isFollow,o=t.isFetchingFollow,n=t.setFollow,r=t.setUnfollow,a=t.userId,i=t.editMode,l=t.setEditMode;return Object(P.jsx)(P.Fragment,{children:e?Object(P.jsx)(S.a,{fullWidth:!0,variant:"outlined",color:i?"secondary":"primary",onClick:i?function(){return l(!1)}:function(){return l(!0)},children:i?"cancel":"change profile"}):Object(P.jsxs)("div",{className:N.a.buttonsGroup,children:[s?Object(P.jsx)(S.a,{fullWidth:!0,variant:"outlined",color:"primary",onClick:function(){return r(a)},disabled:o,children:"unfollow"}):Object(P.jsx)(S.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return n(a)},disabled:o,children:"Follow"}),Object(P.jsx)(S.a,{fullWidth:!0,variant:"outlined",color:"primary",children:"Chat"})]})})},U=s(224),A=s.n(U),M=s(372),C=s(365),J=s(157),z=function(t){var e=Object(J.a)({initialValues:t.profile,validateOnBlur:!1,validateOnChange:!1,onSubmit:function(){var e=Object(j.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setProfile(s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return console.log(e),Object(P.jsxs)("form",{className:A.a.form,onSubmit:e.handleSubmit,onChange:e.handleChange,children:[Object(P.jsxs)("div",{className:A.a.form__columns,children:[Object(P.jsxs)("div",{className:A.a.form__fields,children:[Object(P.jsx)(M.a,{name:"fullName",variant:"outlined",type:"text",size:"small",color:"primary",label:"Name",value:e.values.fullName||""}),Object(P.jsx)(M.a,{name:"aboutMe",variant:"outlined",type:"text",size:"small",color:"primary",label:"About Me",value:e.values.aboutMe||""}),Object(P.jsxs)("p",{children:[Object(P.jsx)(C.a,{size:"small",color:"primary",name:"lookingForAJob",checked:e.values.lookingForAJob}),"looking for a job"]}),Object(P.jsx)(M.a,{name:"lookingForAJobDescription",variant:"outlined",multiline:!0,size:"small",color:"primary",label:"Job description",value:e.values.lookingForAJobDescription||""})]}),Object(P.jsx)("div",{className:A.a.form__fields,children:Object.keys(t.profile.contacts).map((function(t){return Object(P.jsx)(M.a,{name:"contacts."+t,variant:"outlined",type:"text",size:"small",color:"primary",label:"".concat(t),value:e.values.contacts[t]||""},t)}))})]}),Object(P.jsx)(S.a,{type:"submit",color:"primary",variant:"contained",children:"save changes"})]})},V=s(228),B=s.n(V),W=s(229),D=s.n(W),E=s(367),G=s(366),L=s(161),X=s.n(L),T=function(t){var e=Object(i.useState)(!1),s=Object(d.a)(e,2),o=s[0],n=s[1],r=function(){n(!1)},a=function(){var e=Object(j.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setStatus(s);case 2:r();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(P.Fragment,{children:o?Object(P.jsx)(K,{onSubmit:a,onBlur:r,status:t.status}):Object(P.jsx)("p",{className:t.isOwner?D.a.statusOwner:D.a.status,onClick:t.isOwner?function(){n(!0)}:null,children:t.status||"enter status"})})},K=function(t){var e=Object(J.a)({initialValues:{status:t.status},onSubmit:function(){var e=Object(j.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.onSubmit(s.status);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(P.jsx)(E.a,{onClickAway:t.onBlur,children:Object(P.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(P.jsx)(M.a,{name:"status",autoFocus:!0,value:e.values.status,onChange:e.handleChange}),Object(P.jsx)(G.a,{color:"primary",type:"submit",disabled:e.isSubmitting,children:Object(P.jsx)(X.a,{})})]})})},Q=function(t){var e=Object.keys(t.profile.contacts).filter((function(e){return t.profile.contacts[e]})).map((function(e){return Object(P.jsxs)("p",{children:[Object(P.jsx)("b",{children:"".concat(e,": ")}),Object(P.jsx)("a",{href:(s=t.profile.contacts[e],-1===s.indexOf("http://")&&-1===s.indexOf("https://")?"https://".concat(s):s),target:"_blank",rel:"noreferrer",children:t.profile.contacts[e]})]},e);var s}));return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:B.a.header,children:[Object(P.jsx)("h1",{children:t.profile.fullName}),Object(P.jsx)(T,{status:t.status,setStatus:t.setStatus,isOwner:t.isOwner})]}),Object(P.jsxs)("div",{className:B.a.about,children:[Object(P.jsxs)("div",{className:B.a.aboutMe,children:[Object(P.jsx)("div",{children:t.profile.aboutMe&&Object(P.jsx)("p",{children:t.profile.aboutMe})}),Object(P.jsxs)("div",{children:[t.profile.lookingForAJob&&Object(P.jsx)("p",{children:"\u041e\u0442\u043a\u0440\u044b\u0442 \u043a \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c"}),t.profile.lookingForAJobDescription&&Object(P.jsx)("p",{children:t.profile.lookingForAJobDescription})]})]}),Object(P.jsx)("div",{className:B.a.links,children:e})]})]})},R=function(t){var e=Object(i.useState)(!1),s=Object(d.a)(e,2),o=s[0],n=s[1],r=function(){var e=Object(j.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setProfile(s);case 2:n(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t.profile?Object(P.jsx)("div",{className:h.a.profileinfo,children:Object(P.jsxs)("div",{className:h.a.profileinfo__description,children:[Object(P.jsxs)("div",{className:h.a.profileinfo__avtarAndButtons,children:[Object(P.jsx)(y,{profileFoto:t.profile.photos.large,setUserPhoto:t.setUserPhoto,isOwner:t.isOwner}),Object(P.jsx)(I,{editMode:o,setEditMode:n,userId:t.profile.userId,isOwner:t.isOwner,isFollow:t.isFollow,isFetchingFollow:t.isFetchingFollow,setFollow:t.setFollow,setUnfollow:t.setUnfollow})]}),Object(P.jsx)("div",{className:h.a.profileinfo__about,children:o?Object(P.jsx)(z,{status:t.status,setStatus:t.setStatus,profile:t.profile,setProfile:r,isOwner:t.isOwner}):Object(P.jsx)(Q,{profile:t.profile,status:t.status,setStatus:t.setStatus,isOwner:t.isOwner})})]})}):Object(P.jsx)(m.a,{})},Y=s(230),H=s.n(Y),q=s(24),Z=s(231),$=s.n(Z);function tt(t){return Object(P.jsxs)("div",{className:$.a.post,children:[Object(P.jsx)("div",{className:$.a.post__username,children:"Ivan"}),Object(P.jsxs)("div",{className:$.a.post__body,children:[Object(P.jsx)("div",{className:$.a.post__avatar,children:Object(P.jsx)("img",{src:F.a,alt:""})}),Object(P.jsx)("div",{className:$.a.post__text,children:Object(P.jsx)("p",{children:t.text})})]}),Object(P.jsx)("div",{className:$.a.post__likes,children:Object(P.jsxs)("p",{children:["Likes: ",t.likesCount]})})]})}var et=Object(q.b)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{}}))((function(t){var e=t.posts.map((function(t){return Object(P.jsx)(tt,{text:t.message,likesCount:t.likesCount},t.id)}));return Object(P.jsx)("div",{children:e})})),st=s(60),ot=s(232),nt=s.n(ot);var rt=Object(q.b)((function(t){return{textAreaValue:t.profilePage.textAreaValue}}),(function(t){return{addPost:function(e){var s=Object(st.a)(e);t(s)}}}))((function(t){var e=Object(J.a)({initialValues:{textArea:""},onSubmit:function(){var e=Object(j.a)(f.a.mark((function e(s){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addPost(s.textArea);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return Object(P.jsxs)("form",{className:nt.a.addpost,onSubmit:e.handleSubmit,children:[Object(P.jsx)(M.a,{label:"new post text",fullWidth:!0,multiline:!0,rows:3,variant:"outlined",name:"textArea",onChange:e.handleChange,value:e.values.textArea}),Object(P.jsx)("div",{children:Object(P.jsx)(G.a,{type:"submit",children:Object(P.jsx)(X.a,{})})})]})})),at=l.a.memo((function(){return Object(P.jsxs)("div",{className:H.a.myposts,children:[Object(P.jsx)(rt,{}),Object(P.jsx)(et,{})]})})),it=function(t){return Object(P.jsxs)("div",{className:u.a.profile,children:[Object(P.jsx)(R,{profile:t.profile,status:t.status,isFollow:t.isFollow,isFetchingFollow:t.isFetchingFollow,setProfile:t.setProfile,setFollow:t.setFollow,setUnfollow:t.setUnfollow,setStatus:t.setStatus,setUserPhoto:t.setUserPhoto,isOwner:t.isOwner}),Object(P.jsx)(at,{})]})},lt=s(6),ct=s(36),ut=function(t){Object(r.a)(s,t);var e=Object(a.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(n.a)(s,[{key:"getUserInfo",value:function(){var t=this.props.match.params.userId||this.props.auth.id;t&&(this.props.getProfile(t),this.props.getStatus(t),this.props.getFollow(t))}},{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.getUserInfo()}},{key:"render",value:function(){return this.props.match.params.userId||this.props.auth.id?Object(P.jsx)(it,{profile:this.props.profile,status:this.props.status,isFollow:this.props.isFollow,isFetchingFollow:this.props.isFetchingFollow,setProfile:this.props.setProfile,setFollow:this.props.setFollow,setUnfollow:this.props.setUnfollow,setStatus:this.props.setStatus,setUserPhoto:this.props.setUserPhoto,isOwner:!this.props.match.params.userId}):Object(P.jsx)(lt.a,{to:"/login"})}}]),s}(l.a.Component);e.default=Object(ct.c)(lt.f,Object(q.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,isFollow:t.profilePage.isFollow,isFetchingFollow:t.profilePage.isFetchingFollow,auth:t.auth}}),{getProfile:st.d,getStatus:st.e,getFollow:st.c,setProfile:st.g,setStatus:st.h,setUserPhoto:st.j,setFollow:st.f,setUnfollow:st.i}))(ut)}}]);
//# sourceMappingURL=5.e3f892ad.chunk.js.map