{"version":3,"sources":["api/instance.js","reportWebVitals.js","redux/app-reducer.js","logo.png","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/Friends/User/User.jsx","components/Friends/FriendsContainer.jsx","components/Friends/Friends.jsx","App.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","api/usersApi.js","components/Navbar/Navbar.module.css","api/authApi.js","api/securityApi.js","redux/auth-reduser.js","components/Header/Header.module.css","components/common/Preloader/Preloader.jsx","components/Friends/Friends.module.css","assets/user.png","api/profileApi.js","redux/profile-reducer.js","redux/dialogs-reducer.js","utils/object-helper.js","redux/users-reducer.js","components/Friends/User/User.module.css","components/common/Preloader/Preloader.module.css"],"names":["instance","axios","baseURL","withCredentials","headers","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","INITIALIZED_SUCCESS","initialState","initialized","appReducer","state","action","type","Header","props","className","style","header","header__icon","to","src","logo","alt","loginBlock","isAuth","login","Button","color","variant","size","onClick","logout","HeaderContainer","this","React","Component","connect","auth","Navbar","navbar","activeClassName","active","User","block","avatar","name","FriendsContainer","friends","sidebar","dispatch","users","map","friend","id","block__friends","ProfileContainer","lazy","UsersContainer","LoginContainer","DialogsContainer","News","Music","Settings","App","initializeApp","Suspense","fallback","Preloader","exact","path","render","app","promise","authMe","Promise","all","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","usersReducer","authReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById","usersAPI","getUsers","currentPage","pageSize","get","response","data","follow","userId","post","unfollow","delete","getFollowInfo","module","exports","authApi","email","password","rememberMe","captcha","securityApi","SET_USER_DATA","SET_MESSAGES","SET_CAPTCHA_URL","messages","setAuthUserData","payload","setCaptchaUrl","captchaUrl","a","resultCode","arrayMessages","getCaptchaUrl","url","profileApi","profile","put","status","photo","formData","FormData","set","contentType","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SET_USER_PHOTO","SET_FOLLOW","SET_IS_FETCHING_FOLLOW","posts","message","likesCount","addPostActionCreator","setUserProfile","setUserStatus","setFollowSuccess","followInfo","setIsFetchigFollowSuccess","fetching","getProfile","getStatus","getFollow","setStatus","setProfile","setFollow","setUnfollow","setUserPhoto","photos","length","isFollow","isFetchingFollow","SEND_MESSAGE","dialogs","lastMessege","timeLastMessege","chat","fromMe","sendMessageActionCreator","updateObjectArray","array","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_TOTAL_USERS_COUNT","SET_CURRENT_PAGE","TOGLE_IS_FETCHING","TOGGLE_FOLLOW_PROGRESS","totalUsersCount","isFetching","isFollowProgress","followSuccess","unfollowSuccess","setCurrentPage","setIsFetching","toggleFollowProgress","items","totalCount","followUnfollowFlow","apiMethod","actionCreator","bind","followed","some","filter"],"mappings":"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","file":"static/js/main.7cfaae56.chunk.js","sourcesContent":["import * as axios from \"axios\";\n\nexport const instance = axios.create({\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n  withCredentials: true,\n  headers: {\n    \"API-KEY\": \"7972be0e-bbb0-4c06-8150-e10a23a2565b\",\n  },\n});\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { authMe } from \"./auth-reduser\";\n\n// actions\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\n\n// initial values\nconst initialState = {\n  initialized: false,\n};\n\n// reducer\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      };\n    default:\n      return state;\n  }\n};\n\n// action creators\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\n\n// thunks (side-effects only here)\nexport const initializeApp = () => (dispatch) => {\n  let promise = dispatch(authMe());\n  Promise.all([promise]).then(() => dispatch(initializedSuccess()));\n};\n\nexport default appReducer;\n","export default __webpack_public_path__ + \"static/media/logo.cf1e834f.png\";","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Button } from \"@material-ui/core\";\nimport style from \"./Header.module.css\";\nimport logo from \"./../../logo.png\";\n\nexport function Header(props) {\n  return (\n    <header className={style.header}>\n      <div className={style.header__icon}>\n        <NavLink to=\"/profile\">\n          <img src={logo} alt=\"logo\" />\n        </NavLink>\n      </div>\n      <div className={style.loginBlock}>\n        {props.isAuth ? (\n          <>\n            {props.login}{\" \"}\n            <Button\n              color=\"primary\"\n              variant=\"outlined\"\n              size=\"small\"\n              onClick={props.logout}\n            >\n              logout\n            </Button>\n          </>\n        ) : (\n          <NavLink to={\"/login\"}>Login</NavLink>\n        )}\n      </div>\n    </header>\n  );\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../redux/auth-reduser\";\nimport { Header } from \"./Header\";\n\nclass HeaderContainer extends React.Component {\n  render() {\n    return <Header {...this.props} />;\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    isAuth: state.auth.isAuth,\n    login: state.auth.login,\n  };\n};\n\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport style from \"./Navbar.module.css\";\n\nconst Navbar = () => {\n  return (\n    <nav className={style.navbar}>\n      <NavLink to=\"/profile\" activeClassName={style.active}>\n        Profile\n      </NavLink>\n      <NavLink to=\"/dialogs\" activeClassName={style.active}>\n        Message\n      </NavLink>\n      <NavLink to=\"/users\" activeClassName={style.active}>\n        Users\n      </NavLink>\n      <NavLink to=\"/news\" activeClassName={style.active}>\n        News\n      </NavLink>\n      <NavLink to=\"/music\" activeClassName={style.active}>\n        Music\n      </NavLink>\n      <NavLink to=\"/settings\" activeClassName={style.active}>\n        Settings\n      </NavLink>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport style from \"./User.module.css\";\nimport avatar from \"./../../../assets/user.png\";\n\nexport const User = (props) => {\n  return (\n    <div className={style.block}>\n      <img src={avatar} alt=\"userAvatar\" />\n      <p>{props.name}</p>\n    </div>\n  );\n};\n","import { connect } from \"react-redux\";\nimport { Friends } from \"./Friends\";\n\nlet mapStateToProps = (state) => {\n  return {\n    friends: state.sidebar.friends,\n  };\n};\n\nlet mapDispatchToProps = (dispatch) => {\n  return {};\n};\n\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps)(Friends);\n\nexport default FriendsContainer;\n","import React from \"react\";\nimport style from \"./Friends.module.css\";\nimport { User } from \"./User/User\";\n\nexport const Friends = (props) => {\n  let users = props.friends.map((friend) => (\n    <User key={friend.id} name={friend.name} />\n  ));\n  return (\n    <div className={style.block}>\n      <h2>Friends</h2>\n      <div className={style.block__friends}>{users}</div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport \"normalize.css\";\nimport \"./App.css\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport HeaderContainer from \".//components/Header/HeaderContainer\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport FriendsContainer from \"./components/Friends/FriendsContainer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\n\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\nconst UsersContainer = React.lazy(() =>\n  import(\"./components/Users/UsersContainer\")\n);\nconst LoginContainer = React.lazy(() =>\n  import(\"./components/Login/LoginContainer\")\n);\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\nconst News = React.lazy(() => import(\"./components/News/News\"));\nconst Music = React.lazy(() => import(\"./components/Music/Music\"));\nconst Settings = React.lazy(() => import(\"./components/Settings/Settings\"));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"App\">\n        <div className=\"App-block Header\">\n          <HeaderContainer />\n        </div>\n\n        <div className=\"App-block Navbar\">\n          <Navbar />\n        </div>\n\n        <div className=\"App-block Sidebar\">\n          <FriendsContainer />\n        </div>\n\n        <div className=\"App-block Main\">\n          <React.Suspense fallback={<Preloader />}>\n            <Route exact path=\"/\" render={() => <Redirect to=\"/profile\" />} />\n            <Route path=\"/login\" render={() => <LoginContainer />} />\n            <Route\n              path=\"/profile/:userId?\"\n              render={() => <ProfileContainer />}\n            />\n            <Route path=\"/dialogs\" render={() => <DialogsContainer />} />\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n            <Route path=\"/news\" render={() => <News />} />\n            <Route path=\"/music\" render={() => <Music />} />\n            <Route path=\"/settings\" render={() => <Settings />} />\n          </React.Suspense>\n        </div>\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n  };\n};\n\nexport default connect(mapStateToProps, { initializeApp })(App);\n","// initial values\nlet initialState = {\n  friends: [\n    { id: 1, name: \"Inna\" },\n    { id: 2, name: \"Vasya\" },\n    { id: 3, name: \"Mira\" },\n    { id: 4, name: \"Kolya\" },\n    { id: 5, name: \"Nastya\" },\n    { id: 6, name: \"Lena\" },\n  ],\n};\n\n// reducer\nconst sidebarReducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default sidebarReducer;\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reduser\";\nimport thunk from \"redux-thunk\";\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  sidebar: sidebarReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  app: appReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n\nwindow.store = store;\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport App from \"./App\";\nimport store from \"./redux/redux-store\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { instance } from \"./instance\";\n\nconst getUsers = (currentPage = 1, pageSize = 100) => {\n  return instance\n    .get(`users?page=${currentPage}&count=${pageSize}`)\n    .then((response) => response.data);\n};\n\nconst unfollow = (userId) => {\n  return instance.delete(`follow/${userId}`).then((response) => response.data);\n};\nconst follow = (userId) => {\n  return instance.post(`follow/${userId}`).then((response) => response.data);\n};\nconst getFollowInfo = (userId) => {\n  return instance.get(`follow/${userId}`).then((response) => response.data);\n};\n\nexport const usersAPI = { getUsers, follow, unfollow, getFollowInfo };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__CLYHD\",\"active\":\"Navbar_active__3mbhk\"};","import { instance } from \"./instance\";\n\nconst authMe = () => {\n  return instance.get(`auth/me`).then((response) => response.data);\n};\n\nconst login = (email, password, rememberMe = false, captcha) => {\n  return instance\n    .post(`auth/login`, { email, password, rememberMe, captcha })\n    .then((response) => response.data);\n};\n\nconst logout = () => {\n  return instance.delete(`auth/login`).then((response) => response.data);\n};\n\nexport const authApi = { authMe, login, logout };\n","import { instance } from \"./instance\";\n\nconst getCaptchaUrl = () => {\n  return instance\n    .get(\"security/get-captcha-url\")\n    .then((response) => response.data);\n};\n\nexport const securityApi = { getCaptchaUrl };\n","import { authApi } from \"../api/authApi\";\nimport { securityApi } from \"../api/securityApi\";\n\n// actions\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\";\nconst SET_MESSAGES = \"samurai-network/auth/SET_MESSAGES\";\nconst SET_CAPTCHA_URL = \"samurai-network/security/SET_CAPTCHA_URL\";\n\n// initial values\nlet initialState = {\n  id: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  messages: [],\n};\n\n// reducer\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case SET_MESSAGES:\n      return {\n        ...state,\n        messages: action.arrayMessages,\n      };\n    case SET_CAPTCHA_URL:\n      return {\n        ...state,\n        captchaUrl: action.captchaUrl,\n      };\n    default:\n      return state;\n  }\n};\n\n// action creators\nexport const setAuthUserData = (id, email, login, isAuth) => ({\n  type: SET_USER_DATA,\n  payload: { id, email, login, isAuth },\n});\nexport const setMessages = (arrayMessages) => ({\n  type: SET_MESSAGES,\n  arrayMessages,\n});\nconst setCaptchaUrl = (captchaUrl) => ({ type: SET_CAPTCHA_URL, captchaUrl });\n\n//thunks (side-effect only here)\nexport const authMe = () => async (dispatch) => {\n  let response = await authApi.authMe();\n  if (response.resultCode === 0) {\n    dispatch(\n      setAuthUserData(\n        response.data.id,\n        response.data.email,\n        response.data.login,\n        true\n      )\n    );\n  }\n};\n\nexport const login =\n  (email, password, rememberMe, captcha) => async (dispatch) => {\n    let response = await authApi.login(email, password, rememberMe, captcha);\n    if (response.resultCode === 0) {\n      dispatch(authMe());\n      dispatch(setCaptchaUrl(null));\n    } else if (response.resultCode === 10) {\n      dispatch(setMessages(response.messages));\n      dispatch(getCaptchaUrl());\n    }\n  };\n\nexport const logout = () => async (dispatch) => {\n  let response = await authApi.logout();\n  if (response.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n  let response = await securityApi.getCaptchaUrl();\n  dispatch(setCaptchaUrl(response.url));\n};\n\nexport default authReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"header__icon\":\"Header_header__icon__bqQrV\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","import React from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport style from \"./Preloader.module.css\";\n\nconst Preloader = (props) => {\n  return (\n    <div className={style.block}>\n      <CircularProgress />\n    </div>\n  );\n};\n\nexport default Preloader;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Friends_block__20hKt\",\"block__friends\":\"Friends_block__friends__29yH6\"};","export default __webpack_public_path__ + \"static/media/user.2e56bb2b.png\";","import { instance } from \"./instance\";\n\nconst getProfile = (userId) => {\n  return instance.get(`profile/${userId}`).then((response) => response.data);\n};\n\nconst setProfile = (profile) => {\n  return instance.put(\"profile\", profile).then((response) => response.data);\n};\n\nconst getStatus = (userId) => {\n  return instance\n    .get(`profile/status/${userId}`)\n    .then((response) => response.data);\n};\n\nconst setStatus = (status) => {\n  return instance\n    .put(`profile/status`, { status })\n    .then((response) => response.data);\n};\nconst setUserPhoto = (photo) => {\n  let formData = new FormData();\n  formData.set(\"image\", photo);\n  return instance\n    .put(\"profile/photo\", formData, { contentType: \"multypal/form-data\" })\n    .then((response) => response.data);\n};\n\nexport const profileApi = {\n  getProfile,\n  setProfile,\n  getStatus,\n  setStatus,\n  setUserPhoto,\n};\n","import { profileApi } from \"../api/profileApi\";\nimport { usersAPI } from \"../api/usersApi\";\n\n// actions\nconst ADD_POST = \"ADD-POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_USER_STATUS = \"SET_USER_STATUS\";\nconst SET_USER_PHOTO = \"SET_USER_PHOTO\";\nconst SET_FOLLOW = \"SET_FOLLOW_INFO\";\nconst SET_IS_FETCHING_FOLLOW = \"SET_IS_FETCHING_FOLLOW\";\n\n// initial values\nlet initialState = {\n  profile: null,\n  status: \"default value\",\n  posts: [\n    { id: 1, message: \"Lorem\", likesCount: 12 },\n    {\n      id: 2,\n      message: \"Hello, best of the best social network!\",\n      likesCount: 87,\n    },\n    { id: 3, message: \"wow!\", likesCount: 4 },\n  ],\n};\n\n// reducer\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      return {\n        ...state,\n        posts: [\n          ...state.posts,\n          {\n            id: state.posts.length + 1,\n            message: action.post,\n            likesCount: 0,\n          },\n        ],\n      };\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        profile: { ...state.profile, ...action.profile },\n      };\n    case SET_USER_STATUS:\n      return {\n        ...state,\n        status: action.status,\n      };\n    case SET_USER_PHOTO:\n      return {\n        ...state,\n        profile: { ...state.profile, photos: action.photos },\n      };\n    case SET_FOLLOW:\n      return {\n        ...state,\n        isFollow: action.followInfo,\n      };\n    case SET_IS_FETCHING_FOLLOW:\n      return {\n        ...state,\n        isFetchingFollow: action.fetching,\n      };\n    default:\n      return state;\n  }\n};\n\n// action creators\nexport const addPostActionCreator = (post) => ({\n  type: ADD_POST,\n  post,\n});\n\nexport const setUserProfile = (profile) => ({\n  type: SET_USER_PROFILE,\n  profile,\n});\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status });\nexport const setUserPhotoSuccess = (photos) => ({\n  type: SET_USER_PHOTO,\n  photos,\n});\nconst setFollowSuccess = (followInfo) => ({ type: SET_FOLLOW, followInfo });\nconst setIsFetchigFollowSuccess = (fetching) => ({\n  type: SET_IS_FETCHING_FOLLOW,\n  fetching,\n});\n\n// thunks (side-effects only here)\nexport const getProfile = (userId) => async (dispatch) => {\n  let response = await profileApi.getProfile(userId);\n  dispatch(setUserProfile(response));\n};\nexport const getStatus = (userId) => async (dispatch) => {\n  let response = await profileApi.getStatus(userId);\n  dispatch(setUserStatus(response));\n};\nexport const getFollow = (userId) => async (dispatch) => {\n  let response = await usersAPI.getFollowInfo(userId);\n  dispatch(setFollowSuccess(response));\n};\n\nexport const setStatus = (status) => async (dispatch) => {\n  let response = await profileApi.setStatus(status);\n  if (response.resultCode === 0) {\n    dispatch(setUserStatus(status));\n  }\n};\nexport const setProfile = (profile) => async (dispatch) => {\n  let response = await profileApi.setProfile(profile);\n  if (response.resultCode === 0) {\n    dispatch(setUserProfile(profile));\n  }\n};\nexport const setFollow = (userId) => async (dispatch) => {\n  dispatch(setIsFetchigFollowSuccess(true));\n  let response = await usersAPI.follow(userId);\n  if (response.resultCode === 0) {\n    dispatch(setFollowSuccess(true));\n  }\n  dispatch(setIsFetchigFollowSuccess(false));\n};\nexport const setUnfollow = (userId) => async (dispatch) => {\n  dispatch(setIsFetchigFollowSuccess(true));\n  let response = await usersAPI.unfollow(userId);\n  if (response.resultCode === 0) {\n    dispatch(setFollowSuccess(false));\n  }\n  dispatch(setIsFetchigFollowSuccess(false));\n};\nexport const setUserPhoto = (photo) => async (dispatch) => {\n  let response = await profileApi.setUserPhoto(photo);\n  if (response.resultCode === 0) {\n    dispatch(setUserPhotoSuccess(response.data.photos));\n  }\n};\n\nexport default profileReducer;\n","// actions\nconst SEND_MESSAGE = \"SEND-MESSAGE\";\n\n// initialize values\nlet initialState = {\n  dialogs: [\n    {\n      id: 1,\n      name: \"Inna\",\n      lastMessege: \"Lorem ipsum dolor sit amet.\",\n      timeLastMessege: \"10:50\",\n    },\n    {\n      id: 2,\n      name: \"Vasya\",\n      lastMessege: \"Lorem ipsum dolor sit amet consectetur adipisicing elit.\",\n      timeLastMessege: \"09:45\",\n    },\n    {\n      id: 3,\n      name: \"Sonya\",\n      lastMessege:\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut minima...\",\n      timeLastMessege: \"yesterday\",\n    },\n    {\n      id: 4,\n      name: \"Nastya\",\n      lastMessege: \"Lorem ipsum dolor.\",\n      timeLastMessege: \"yesterday\",\n    },\n    {\n      id: 5,\n      name: \"Misha\",\n      lastMessege: \"Lorem ipsum.\",\n      timeLastMessege: \"21.05.2021 21:56\",\n    },\n  ],\n  chat: [\n    { id: 1, message: \"Hi\", fromMe: true },\n    { id: 2, message: \"How are you?\", fromMe: false },\n    {\n      id: 3,\n      message:\n        \"I'm learning English now)) dhkgj jshhdg jashg jhgajsdh jhgasdvjh dgslf hgsdljhf gljhgdljhf gjlsdhgflj hsgdlfhg hgdjgfjhdgfjl hdjfh jhdj lfhgjl f!!!\",\n      fromMe: false,\n    },\n    {\n      id: 4,\n      message:\n        \"Как ты поживаешь? Давно тебя не слышно и не видно! У тебя все ок?\",\n      fromMe: true,\n    },\n    { id: 5, message: \"Уже скучаю!\", fromMe: true },\n    { id: 6, message: \"Когда сможем встретиться?\", fromMe: true },\n    { id: 7, message: \"Все хорошо, при встрече расскажу))\", fromMe: false },\n    { id: 8, message: \"Давай в субботу в эту? Сможешь?\", fromMe: false },\n    {\n      id: 9,\n      message: \"Да, супер! Договорились. До субботы!\",\n      fromMe: true,\n    },\n  ],\n};\n\n// reducer\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      return {\n        ...state,\n        chat: [\n          ...state.chat,\n          { id: state.chat.length + 1, message: action.message, fromMe: true },\n        ],\n      };\n\n    default:\n      return state;\n  }\n};\n\n// action creators\nexport const sendMessageActionCreator = (message) => ({\n  type: SEND_MESSAGE,\n  message,\n});\n\nexport default dialogsReducer;\n","// helper function (input: array with objects, return: new array with objects)\nexport const updateObjectArray = (array, itemId, objPropName, newObjProps) => {\n  return array.map((u) => {\n    if (u[objPropName] === itemId) {\n      return { ...u, ...newObjProps };\n    }\n    return u;\n  });\n};\n","import { usersAPI } from \"../api/usersApi\";\nimport { updateObjectArray } from \"../utils/object-helper\";\n\n// actions\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nconst TOGLE_IS_FETCHING = \"TOGLE_IS_FETCHING\";\nconst TOGGLE_FOLLOW_PROGRESS = \"TOGGLE_FOLLOW_PROGRESS\";\n\n// initial values\nlet initialState = {\n  users: [],\n  pageSize: 10,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  isFollowProgress: [],\n};\n\n// reducer\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectArray(state.users, action.userId, \"id\", {\n          followed: true,\n        }),\n      };\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectArray(state.users, action.userId, \"id\", {\n          followed: false,\n        }),\n      };\n    case SET_USERS:\n      return {\n        ...state,\n        users: action.users,\n      };\n    case SET_TOTAL_USERS_COUNT:\n      return {\n        ...state,\n        totalUsersCount: action.totalCount,\n      };\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.currentPage,\n      };\n    case TOGLE_IS_FETCHING:\n      return {\n        ...state,\n        isFetching: action.isFetching,\n      };\n    case TOGGLE_FOLLOW_PROGRESS:\n      return {\n        ...state,\n        isFollowProgress: state.isFollowProgress.some(\n          (id) => id === action.userId\n        )\n          ? state.isFollowProgress.filter((id) => id !== action.userId)\n          : [...state.isFollowProgress, action.userId],\n      };\n    default:\n      return state;\n  }\n};\n\n// action creators\nexport const followSuccess = (userId) => ({\n  type: FOLLOW,\n  userId,\n});\nexport const unfollowSuccess = (userId) => ({\n  type: UNFOLLOW,\n  userId,\n});\nexport const setUsers = (users) => ({ type: SET_USERS, users });\nexport const setTotalUsersCount = (totalCount) => ({\n  type: SET_TOTAL_USERS_COUNT,\n  totalCount,\n});\nexport const setCurrentPage = (currentPage) => ({\n  type: SET_CURRENT_PAGE,\n  currentPage,\n});\nexport const setIsFetching = (isFetching) => ({\n  type: TOGLE_IS_FETCHING,\n  isFetching,\n});\nexport const toggleFollowProgress = (userId) => ({\n  type: TOGGLE_FOLLOW_PROGRESS,\n  userId,\n});\n\n// thunks (side-effects only here)\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\n  dispatch(setIsFetching(true));\n  dispatch(setCurrentPage(currentPage));\n  let data = await usersAPI.getUsers(currentPage, pageSize);\n  dispatch(setUsers(data.items));\n  dispatch(setTotalUsersCount(data.totalCount));\n  dispatch(setIsFetching(false));\n};\n\nconst followUnfollowFlow = async (\n  dispatch,\n  userId,\n  apiMethod,\n  actionCreator\n) => {\n  dispatch(toggleFollowProgress(userId));\n  let response = await apiMethod(userId);\n  if (response.resultCode === 0) {\n    dispatch(actionCreator(userId));\n    dispatch(toggleFollowProgress(userId));\n  }\n};\n\nexport const follow = (userId) => async (dispatch) => {\n  followUnfollowFlow(\n    dispatch,\n    userId,\n    usersAPI.follow.bind(usersAPI),\n    followSuccess\n  );\n};\n\nexport const unfollow = (userId) => async (dispatch) => {\n  followUnfollowFlow(\n    dispatch,\n    userId,\n    usersAPI.unfollow.bind(usersAPI),\n    unfollowSuccess\n  );\n};\n\nexport default usersReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"User_block__2WT5L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"Preloader_block__1JS0c\"};"],"sourceRoot":""}